{% extends "layout.html" %}

{% block title %}
    HomePage
{% endblock %}

{% block main %}
    <div class="container-fluid mt-4 text-center">
        <h4>A BATTLE HAS BEGUN</h4>
        <div class="row align-items-center">
            <div class="col">
                <div class="container-fluid text-center">
                    <div class="row row-cols-3 g-4 align-items-center">
                        <div class="col-1 p-1">
                            {% for p in enemy.pokemon %}
                                {% if loop.index > 1 %}
                                    {% if p.currentHealth > 0 %}
                                        <img class="party-pokeballs" src="static/images/Poké_Ball_icon.png">
                                    {% else %}
                                        <img class="party-pokeballs" src="static/images/Poké_Ball_icon.png" style="filter:grayscale(100%);">
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                        </div>
                        <div class="col-10">
                            <div class="card player-card" style="background-color: {{ colors[enemy.pokemon[0].primaryType] }};">
                                <div class="card-title">
                                    <div class="row align-items-center">
                                        <div class="col-9">
                                            <div class="row justify-content-around">
                                                <div class="col-4 align-items-center g-3">
                                                    <div class="row row-cols-1 g-1">
                                                        <div class="col rounded shadow">
                                                            <div class="container">
                                                                lvl {{ enemy.pokemon[0].lvl }}
                                                            </div>
                                                        </div>
                                                        <div class="col">
                                                            <div class="row align-items-center">
                                                                <div class="col">
                                                                    <div class="container">
                                                                        <img class="pokemon-type" src="static/images/TypeIcons/{{ enemy.pokemon[0].primaryType}}.svg">
                                                                        {% if enemy.pokemon[0].secondaryType %}
                                                                            <img class="pokemon-type" src="static/images/TypeIcons/{{ enemy.pokemon[0].secondaryType}}.svg">
                                                                        {% endif %}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-8">
                                                    <h4>{{ enemy.pokemon[0].pokemonName }}</h4>
                                                    <div class="row shadow rounded row-cols-3 justify-content-around">
                                                        <div class="col">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                                                                <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"/>
                                                              </svg>
                                                              {{ enemy.pokemon[0].hp }}
                                                        </div>
                                                        <div class="col">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hammer" viewBox="0 0 16 16">
                                                                <path d="M9.972 2.508a.5.5 0 0 0-.16-.556l-.178-.129a5 5 0 0 0-2.076-.783C6.215.862 4.504 1.229 2.84 3.133H1.786a.5.5 0 0 0-.354.147L.146 4.567a.5.5 0 0 0 0 .706l2.571 2.579a.5.5 0 0 0 .708 0l1.286-1.29a.5.5 0 0 0 .146-.353V5.57l8.387 8.873A.5.5 0 0 0 14 14.5l1.5-1.5a.5.5 0 0 0 .017-.689l-9.129-8.63c.747-.456 1.772-.839 3.112-.839a.5.5 0 0 0 .472-.334"/>
                                                              </svg>
                                                              {{ enemy.pokemon[0].attack }}
                                                        </div>
                                                        <div class="col">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shield-fill" viewBox="0 0 16 16">
                                                                <path d="M5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"/>
                                                            </svg>
                                                            {{ enemy.pokemon[0].defence }}
                                                        </div>
                                                        <div class="col">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lightning-charge-fill" viewBox="0 0 16 16">
                                                                <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
                                                              </svg>
                                                              {{ enemy.pokemon[0].speed }}
                                                        </div>
                                                        <div class="col">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-magic" viewBox="0 0 16 16">
                                                                <path d="M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707zM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1zM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707zM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0z"/>
                                                              </svg>
                                                              {{ enemy.pokemon[0].specialAttack }}
                                                        </div>
                                                        <div class="col">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bullseye" viewBox="0 0 16 16">
                                                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                                                <path d="M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10m0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12"/>
                                                                <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8"/>
                                                                <path d="M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                                              </svg>
                                                              {{ enemy.pokemon[0].specialDefence }}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <img src="{{ enemy.url }}" class="battle-pokemon" alt="capstone/static/images/missingmon.png">
                                        </div>
                                    </div>
                                </div>
                                <div class="container">
                                    <div class="row row-cols-2 g-2">
                                        {% for move in enemy.pokemon[0].moves %}
                                            <div class="col-6">
                                                <div class="p-3 enemy-ability rounded shadow" style="background-color: {{ colors[move.moveType] }};">
                                                    <img class="enemy-move-type" src="static/images/TypeIcons/{{ move.moveType }}.svg">
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            <div class="card-body">
                            </div>
                        </div>
                    </div>
                    <div class="col-1 p-0">
                        <div class="row align-items-center">
                            {% block enemy_counters %}
                                {% include 'enemycounters.html' %}
                            {% endblock %}
                        </div>
                    </div>
                    <div class="col-1 p-0">
                        <div class="row align-items-center">
                            {% block player_counters %}
                                {% include 'playercounters.html' %}
                            {% endblock %}
                        </div>
                    </div>
                    <div class="col-10">
                        <div class="card player-card" style="background-color: {{ colors[player.pokemon[0].primaryType] }};">
                            <div class="card-title">
                                <div class="row align-items-center">
                                    <div class="col-3">
                                        <img src="{{ player.url }}" class="battle-pokemon img-fluid rounded-start" alt="capstone/static/images/missingmon.png">
                                    </div>
                                    <div class="col-9">
                                        <div class="row justify-content-around">
                                            <div class="col-8">
                                                <h4>{{ player.pokemon[0].pokemonName }}</h4>
                                                <div class="row rounded shadow row-cols-3 justify-content-around">
                                                    <div class="col">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                                                            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"/>
                                                          </svg>
                                                          {{ player.pokemon[0].hp }}
                                                    </div>
                                                    <div class="col">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hammer" viewBox="0 0 16 16">
                                                            <path d="M9.972 2.508a.5.5 0 0 0-.16-.556l-.178-.129a5 5 0 0 0-2.076-.783C6.215.862 4.504 1.229 2.84 3.133H1.786a.5.5 0 0 0-.354.147L.146 4.567a.5.5 0 0 0 0 .706l2.571 2.579a.5.5 0 0 0 .708 0l1.286-1.29a.5.5 0 0 0 .146-.353V5.57l8.387 8.873A.5.5 0 0 0 14 14.5l1.5-1.5a.5.5 0 0 0 .017-.689l-9.129-8.63c.747-.456 1.772-.839 3.112-.839a.5.5 0 0 0 .472-.334"/>
                                                          </svg>
                                                        {{ player.pokemon[0].attack }}
                                                    </div>
                                                    <div class="col">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shield-fill" viewBox="0 0 16 16">
                                                            <path d="M5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"/>
                                                        </svg>
                                                        {{ player.pokemon[0].defence }}
                                                    </div>
                                                    <div class="col">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lightning-charge-fill" viewBox="0 0 16 16">
                                                            <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
                                                          </svg>
                                                          {{ player.pokemon[0].speed }}
                                                    </div>
                                                    <div class="col">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-magic" viewBox="0 0 16 16">
                                                            <path d="M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707zM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1zM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707zM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0z"/>
                                                          </svg>
                                                          {{ player.pokemon[0].specialAttack }}
                                                    </div>
                                                    <div class="col">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bullseye" viewBox="0 0 16 16">
                                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                                            <path d="M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10m0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12"/>
                                                            <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8"/>
                                                            <path d="M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                                          </svg>
                                                          {{ player.pokemon[0].specialDefence }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-4 align-items-center g-3">
                                                <div class="row row-cols-1 g-1">
                                                    <div class="col rounded shadow">
                                                        <div class="container">
                                                            lvl {{ player.pokemon[0].lvl }}
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="row align-items-center">
                                                            <div class="col">
                                                                <div class="container">
                                                                    <img class="pokemon-type" src="static/images/TypeIcons/{{ player.pokemon[0].primaryType }}.svg">
                                                                    {% if player.pokemon[0].secondaryType != null %}
                                                                        <img class="pokemon-type" src="static/images/TypeIcons/{{ player.pokemon[0].secondaryType }}.svg">
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="container">
                                    <div class="row d-flex align-items-stretch row-cols-2 g-2">
                                        {% block playermove %}
                                            {% include 'playermove.html' %}
                                        {% endblock %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-1 p-1">
                        {% for p in player.pokemon %}
                            {% if loop.index > 1 %}
                                {% if p.currentHealth > 0 %}
                                    <img class="party-pokeballs" src="static/images/Poké_Ball_icon.png">
                                {% else %}
                                    <img class="party-pokeballs" src="static/images/Poké_Ball_icon.png" style="filter:grayscale(100%);">
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
