{% block player_counters %}

<!-- Nav tabs -->
<div class="d-flex align-items-center">
  <div class="nav flex-column nav-pills m-0" id="v-player-pills-tab" role="tablist" aria-orientation="vertical">
    <button class="counter-player nav-link rotate-player-text active player" id="strong-against-tab" data-bs-toggle="pill" data-bs-target="#v-player-strong-against" type="button" role="tab" aria-controls="v-strong-against" aria-selected="true">str</button>
    <button class="counter-player nav-link rotate-player-text player" id="weak-against-tab" data-bs-toggle="pill" data-bs-target="#v-player-weak-against" type="button" role="tab" aria-controls="v-weak-against" aria-selected="false">wea</button>
    <button class="counter-player nav-link rotate-player-text player" id="resistant-to-tab" data-bs-toggle="pill" data-bs-target="#v-player-resistant-to" type="button" role="tab" aria-controls="v-resistant-to" aria-selected="false">res</button>
    <button class="counter-player nav-link rotate-player-text player" id="vulnerable-to-tab" data-bs-toggle="pill" data-bs-target="#v-player-vulnerable-to" type="button" role="tab" aria-controls="v-vulnerable-to" aria-selected="false">vul</button>
  </div>
    <div class="tab-content" id="v-player-pills-tabContent">
      <div class="tab-pane show active" id="v-player-strong-against" role="tabpanel" aria-labelledby="strong-against-tab">
        <div class="row ps-2 row-cols-1">
          {% if player.pokemon[0].secondaryType %}
            {% set strong_against = (counters[player.pokemon[0].primaryType].strong_against + counters[player.pokemon[0].secondaryType].strong_against) | unique | list %}
          {% else %}
            {% set strong_against = counters[player.pokemon[0].primaryType].strong_against %}
          {% endif %}
            {% if strong_against | length > 1 %}
            {% for type in strong_against %}
              <div class="col py-2">
                  <img class="counter-icon" src="static/images/TypeIcons/{{ type }}.svg">
              </div>
            {% endfor %}
          {% else %}
            {% if strong_against | length == 1 %}
              <div class="col py-2"></div>
              <div class="col py-2">
                <img class="counter-icon" src="static/images/TypeIcons/{{ strong_against[0] }}.svg">
              </div>
              <div class="col py-2"></div>
            {% endif %}
          {% endif %}
        </div>
      </div>
      <div class="tab-pane" id="v-player-weak-against" role="tabpanel" aria-labelledby="weak-against-tab">
        <div class="row ps-2 row-cols-1">
          {% if player.pokemon[0].secondaryType %}
            {% set weak_against = (counters[player.pokemon[0].primaryType].weak_against + counters[player.pokemon[0].secondaryType].weak_against) | unique | list %}
          {% else %}
            {% set weak_against = counters[player.pokemon[0].primaryType].weak_against %}
          {% endif %}
          {% if weak_against | length > 1 %}
            {% for type in weak_against %}
              <div class="col py-2">
                  <img class="counter-icon" src="static/images/TypeIcons/{{ type }}.svg">
              </div>
            {% endfor %}
          {% else %}
            {% if weak_against | length == 1 %}
              <div class="col py-2"></div>
              <div class="col py-2">
                <img class="counter-icon" src="static/images/TypeIcons/{{ weak_against[0] }}.svg">
              </div>
              <div class="col py-2"></div>
            {% endif %}
          {% endif %}
        </div>
      </div>
      <div class="tab-pane" id="v-player-resistant-to" role="tabpanel" aria-labelledby="resistant-to-tab">
        <div class="row ps-2 row-cols-1">
          {% if player.pokemon[0].secondaryType %}
            {% set resistant_to = (counters[player.pokemon[0].primaryType].resistant_to + counters[player.pokemon[0].secondaryType].resistant_to) | unique | list %}
          {% else %}
            {% set resistant_to = counters[player.pokemon[0].primaryType].resistant_to %}
          {% endif %}
          {% if resistant_to | length > 1 %}
            {% for type in resistant_to %}
              <div class="col py-2">
                  <img class="counter-icon" src="static/images/TypeIcons/{{ type }}.svg">
              </div>
            {% endfor %}
          {% else %}
            {% if resistant_to | length == 1 %}
              <div class="col py-2"></div>
              <div class="col py-2">
                <img class="counter-icon" src="static/images/TypeIcons/{{ resistant_to[0] }}.svg">
              </div>
              <div class="col py-2"></div>
            {% endif %}
          {% endif %}
        </div>
      </div>
      <div class="tab-pane" id="v-player-vulnerable-to" role="tabpanel" aria-labelledby="vulnerable-to-tab">
        <div class="row ps-2 row-cols-1">
          {% if player.pokemon[0].secondaryType %}
            {% set vulnerable_to = (counters[player.pokemon[0].primaryType].vulnerable_to + counters[player.pokemon[0].secondaryType].vulnerable_to) | unique | list %}
          {% else %}
            {% set vulnerable_to = counters[player.pokemon[0].primaryType].vulnerable_to %}
          {% endif %}
          {% if vulnerable_to | length > 1 %}
            {% for type in vulnerable_to %}
              <div class="col py-2">
                  <img class="counter-icon" src="static/images/TypeIcons/{{ type }}.svg">
              </div>
            {% endfor %}
          {% else %}
            {% if vulnerable_to | length == 1 %}
              <div class="col py-2"></div>
              <div class="col py-2">
                <img class="counter-icon" src="static/images/TypeIcons/{{ vulnerable_to[0] }}.svg">
              </div>
              <div class="col py-2"></div>
            {% endif %}
          {% endif %}
        </div>
      </div>
    </div>
</div>

<style>
  .nav-pills .nav-link.active.player {
    background-color: {{ colors[player.pokemon[0].primaryType] }};
  }

  .nav-pills .nav-link {
    color: white;
  }

</style>

<script>
  $(function () {
      $('#strong-against-tab').tab('show');
  });
</script>
{% endblock %}
